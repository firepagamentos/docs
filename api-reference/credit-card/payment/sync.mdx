---
title: 'Sincronizar Status do Pagamento'
openapi: 'GET /credit-card/v1/payment/{paymentId}/sync'
---

Sincronizar o status do pagamento com o processador de pagamentos para garantir que você tenha as informações mais atualizadas. Isso é útil quando você suspeita que o status de um pagamento pode estar desatualizado.

## Parâmetros de Caminho

<ParamField path="paymentId" type="string" required>
  O identificador único do pagamento a ser sincronizado
</ParamField>

## Quando Usar a Sincronização

<CardGroup cols={2}>
  <Card title="Discrepância de Status" icon="refresh">
    Quando o status do pagamento parece inconsistente
  </Card>
  <Card title="Falha de Webhook" icon="webhook">
    Quando notificações de webhook não foram recebidas
  </Card>
  <Card title="Reconciliação Manual" icon="balance-scale">
    Durante processos de reconciliação de fim de dia
  </Card>
  <Card title="Consulta de Cliente" icon="phone">
    Quando clientes relatam problemas de pagamento
  </Card>
</CardGroup>

## Exemplo de Requisição

```bash cURL
curl -X GET "https://api.firebanking.com/v1/payment/payment-123/sync" \
  -H "x-api-key: SUA_CHAVE_DE_API"
```

## Exemplo de Resposta

```json Resposta
{
  "id": "payment-123",
  "status": "completed",
  "amount": 10000,
  "installments": 1,
  "externalId": "ext-payment-12345",
  "captured": true,
  "synchronized": true,
  "lastSyncAt": "2024-01-15T16:30:00Z",
  "createdAt": "2024-01-15T10:30:00Z",
  "processorStatus": "settled",
  "processorTransactionId": "txn_abc123"
}
```

## Campos da Resposta

<ResponseField name="synchronized" type="boolean">
  Indica se o pagamento foi sincronizado com sucesso
</ResponseField>

<ResponseField name="lastSyncAt" type="string">
  Timestamp da última sincronização
</ResponseField>

<ResponseField name="processorStatus" type="string">
  Status atual do processador de pagamentos
</ResponseField>

<ResponseField name="processorTransactionId" type="string">
  ID da transação do processador de pagamentos
</ResponseField>

<Info>
  A operação de sincronização consulta o processador de pagamentos em tempo real e atualiza nossos registros com as informações de status mais recentes.
</Info>

<Warning>
  Use a sincronização com moderação para evitar carga desnecessária nos processadores de pagamentos. É projetada para solução de problemas, não para verificações regulares de status.
</Warning>

## Resultados da Sincronização

Após a sincronização, o status do pagamento pode mudar se houver discrepância:

- **Sem Mudança**: Status do pagamento já estava preciso
- **Status Atualizado**: Status do pagamento foi atualizado para corresponder ao processador
- **Informações Adicionais**: Novos detalhes da transação foram recuperados

## Limitação de Taxa

Este endpoint tem limites de taxa mais rigorosos que chamadas regulares da API:
- **5 requisições por minuto** por pagamento
- **50 requisições por hora** por conta

## Melhores Práticas

1. **Verifique webhooks primeiro** - Certifique-se de que os endpoints de webhook estão funcionando adequadamente
2. **Use judiciosamente** - Sincronize apenas quando suspeitar de um problema de status
3. **Monitore resultados** - Acompanhe os resultados de sincronização para identificar problemas sistemáticos
4. **Implemente lógica de retry** - Trate respostas de limite de taxa com elegância