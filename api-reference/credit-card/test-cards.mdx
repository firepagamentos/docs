---
title: 'Cart√µes para Testes'
description: 'Cart√µes de cr√©dito para teste em ambiente sandbox'
---

## Vis√£o Geral

Para testar integra√ß√µes de cart√£o de cr√©dito em **ambiente sandbox**, utilize os cart√µes de teste espec√≠ficos listados abaixo. Cada cart√£o tem um comportamento pr√©-definido que simula diferentes cen√°rios reais de processamento.

<Note>
  **Importante**: Estes cart√µes funcionam apenas no ambiente de **sandbox**. Em produ√ß√£o, use apenas cart√µes reais v√°lidos.
</Note>

## Como Testar Cobran√ßas de Cart√£o em Sandbox

Os cart√µes utilizados para teste devem ter **n√∫meros v√°lidos** e podem ser gerados atrav√©s de qualquer gerador de cart√µes. O comportamento do teste segue regras espec√≠ficas baseadas no **√∫ltimo d√≠gito** do n√∫mero do cart√£o:

## Cart√µes de Teste Dispon√≠veis

| √öltimo D√≠gito | Autorizado? | Status | Exemplo de Cart√£o |
|---------------|-------------|--------|-------------------|
| **0, 1 ou 4** | ‚úÖ SIM | Aprovado | `5186 8825 4989 5601` |
| **2** | ‚ùå N√ÉO | N√£o autorizado | `5465 4157 3697 6082` |
| **3** | ‚ùå N√ÉO | Cart√£o expirado | `5112 9708 0010 5403` |
| **5** | ‚ùå N√ÉO | Cart√£o bloqueado | `5528 4303 3551 3025` |
| **6** | ‚ùå N√ÉO | Timeout | `5186 8825 4989 5601` |
| **7** | ‚ùå N√ÉO | Cart√£o cancelado | `5325 8272 3667 3227` |
| **8** | üé≤ Aleat√≥rio | Aprovado / Timeout | `5397 5499 7073 5078` |

## Detalhes dos Cen√°rios

<AccordionGroup>
  <Accordion title="Transa√ß√µes Aprovadas (Final 0, 1, 4)">
    **Comportamento:** Transa√ß√£o sempre aprovada
    ```json
    {
      "status": "APPROVED",
      "authorizationCode": "123456",
      "nsu": "000001"
    }
    ```
    **Use para:** Testar fluxo de sucesso, captura, webhooks de aprova√ß√£o
  </Accordion>

  <Accordion title="N√£o Autorizado (Final 2)">
    **Comportamento:** Cart√£o recusado pelo banco
    ```json
    {
      "error": {
        "code": "CARD_DECLINED",
        "message": "Cart√£o recusado pelo banco emissor"
      }
    }
    ```
    **Use para:** Testar tratamento de erro, fallback para outros m√©todos
  </Accordion>

  <Accordion title="Cart√£o Expirado (Final 3)">
    **Comportamento:** Cart√£o com data de validade vencida
    ```json
    {
      "error": {
        "code": "CARD_EXPIRED",
        "message": "Cart√£o expirado"
      }
    }
    ```
    **Use para:** Validar tratamento de cart√µes vencidos
  </Accordion>

  <Accordion title="Cart√£o Bloqueado (Final 5)">
    **Comportamento:** Cart√£o bloqueado pelo banco
    ```json
    {
      "error": {
        "code": "CARD_BLOCKED",
        "message": "Cart√£o bloqueado"
      }
    }
    ```
    **Use para:** Testar cen√°rio de cart√£o bloqueado
  </Accordion>

  <Accordion title="Timeout (Final 6)">
    **Comportamento:** Timeout na comunica√ß√£o com o banco
    ```json
    {
      "error": {
        "code": "TIMEOUT",
        "message": "Timeout na comunica√ß√£o com o banco"
      }
    }
    ```
    **Use para:** Testar retry e tratamento de timeout
  </Accordion>

  <Accordion title="Cart√£o Cancelado (Final 7)">
    **Comportamento:** Cart√£o cancelado pelo banco
    ```json
    {
      "error": {
        "code": "CARD_CANCELLED",
        "message": "Cart√£o cancelado"
      }
    }
    ```
    **Use para:** Validar tratamento de cart√µes cancelados
  </Accordion>

  <Accordion title="Comportamento Aleat√≥rio (Final 8)">
    **Comportamento:** 50% chance de aprova√ß√£o, 50% de timeout
    ```json
    // Pode retornar aprova√ß√£o OU timeout aleatoriamente
    {
      "status": "APPROVED" // ou erro de timeout
    }
    ```
    **Use para:** Testes de stress e comportamento imprevis√≠vel
  </Accordion>
</AccordionGroup>

## Regras de Valida√ß√£o

### CVV (C√≥digo de Seguran√ßa)

<Note>
  **Regra Importante**: Em sandbox, o CVV **sempre deve ser um n√∫mero de 3 d√≠gitos terminado em zero**.
</Note>

**Exemplos v√°lidos:**
- `220` ‚úÖ
- `120` ‚úÖ
- `340` ‚úÖ
- `010` ‚úÖ

**Exemplos inv√°lidos:**
- `221` ‚ùå (n√£o termina em zero)
- `123` ‚ùå (n√£o termina em zero)
- `12` ‚ùå (menos de 3 d√≠gitos)

**Comportamento:** Um CVV que n√£o termine em zero resultar√° em **falha na gera√ß√£o da transa√ß√£o**.

### Data de Validade

Use qualquer data **futura** no formato `MM/YYYY`:
- `12/2025` ‚úÖ
- `06/2026` ‚úÖ
- `01/2024` ‚ùå (data passada)

## Gerador de Cart√µes

Para gerar cart√µes de teste v√°lidos com diferentes finais, use o gerador online:

<Card title="Gerador de Cart√µes de Teste" icon="credit-card" href="https://www.4devs.com.br/gerador_de_numero_cartao_credito">
  **4devs.com.br** - Gerador gratuito de n√∫meros de cart√£o

  Gere cart√µes v√°lidos terminados no d√≠gito desejado para testar cen√°rios espec√≠ficos
</Card>

### Como Usar o Gerador

1. Acesse [4devs.com.br/gerador_de_numero_cartao_credito](https://www.4devs.com.br/gerador_de_numero_cartao_credito)
2. Escolha a bandeira (Visa, Mastercard, etc.)
3. Gere um n√∫mero v√°lido
4. Modifique o √∫ltimo d√≠gito conforme o cen√°rio desejado
5. Use CVV terminado em zero (ex: `220`)

## Exemplos de Teste

### Teste de Aprova√ß√£o

<CodeGroup>
```json Cart√£o Aprovado (Final 1)
{
  "purchaseValue": 100,
  "installments": 1,
  "externalId": "test-approved-001",
  "payment": {
    "chargeType": "FEE_TO_CUSTOMER",
    "capture": true,
    "card": {
      "name": "JOSE TESTADOR",
      "number": "5186882549895601", // Final 1 = Aprovado
      "expiration": "12/2025",
      "securityCode": "220" // Terminado em 0
    }
  }
}
```

```json Cart√£o Negado (Final 2)
{
  "purchaseValue": 50,
  "installments": 1,
  "externalId": "test-declined-002",
  "payment": {
    "chargeType": "FEE_TO_CUSTOMER",
    "capture": true,
    "card": {
      "name": "MARIA TESTADORA",
      "number": "5465415736976082", // Final 2 = Negado
      "expiration": "12/2025",
      "securityCode": "120" // Terminado em 0
    }
  }
}
```

```json Cart√£o Expirado (Final 3)
{
  "purchaseValue": 75,
  "installments": 1,
  "externalId": "test-expired-003",
  "payment": {
    "chargeType": "FEE_TO_CUSTOMER",
    "capture": true,
    "card": {
      "name": "JOAO TESTADOR",
      "number": "5112970800105403", // Final 3 = Expirado
      "expiration": "12/2025",
      "securityCode": "340" // Terminado em 0
    }
  }
}
```
</CodeGroup>

## Teste de Cen√°rios Avan√ßados

### Retry com Timeout (Final 6)

```javascript Implementa√ß√£o de Retry
async function testTimeoutScenario() {
  const timeoutCard = {
    name: "TESTE TIMEOUT",
    number: "5186882549895606", // Final 6 = Timeout
    expiration: "12/2025",
    securityCode: "220"
  };

  try {
    const payment = await createPayment({
      purchaseValue: 100,
      payment: { card: timeoutCard }
    });
  } catch (error) {
    if (error.code === 'TIMEOUT') {
      console.log('Timeout detectado, implementar retry...');
      // Implementar l√≥gica de retry
    }
  }
}
```

### Comportamento Aleat√≥rio (Final 8)

```javascript Teste de Stress
async function testRandomBehavior() {
  const randomCard = {
    name: "TESTE ALEATORIO",
    number: "5397549970735078", // Final 8 = Aleat√≥rio
    expiration: "12/2025",
    securityCode: "180"
  };

  // Execute m√∫ltiplas vezes para testar ambos cen√°rios
  for (let i = 0; i < 10; i++) {
    try {
      const payment = await createPayment({
        purchaseValue: 25,
        externalId: `random-test-${i}`,
        payment: { card: randomCard }
      });

      console.log(`Teste ${i}: Aprovado`);
    } catch (error) {
      console.log(`Teste ${i}: ${error.code}`);
    }
  }
}
```

## Checklist de Testes

### Cen√°rios Obrigat√≥rios

- [ ] **Aprova√ß√£o** - Teste com final 0, 1 ou 4
- [ ] **Nega√ß√£o** - Teste com final 2
- [ ] **Cart√£o Expirado** - Teste com final 3
- [ ] **Timeout** - Teste com final 6 e retry
- [ ] **CVV Inv√°lido** - Teste com CVV n√£o terminado em 0

### Cen√°rios Opcionais

- [ ] **Cart√£o Bloqueado** - Final 5
- [ ] **Cart√£o Cancelado** - Final 7
- [ ] **Comportamento Aleat√≥rio** - Final 8 (m√∫ltiplas tentativas)

### Valida√ß√µes Importantes

- [ ] Webhooks funcionando para todos os cen√°rios
- [ ] Tratamento de erro adequado
- [ ] Retry implementado para timeouts
- [ ] Logs estruturados para debug

---

**üß™ Pronto para testar!** Use estes cart√µes para validar todos os cen√°rios de sua integra√ß√£o antes de ir para produ√ß√£o.