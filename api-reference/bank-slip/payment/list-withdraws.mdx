---
title: 'Listar Pagamentos de Boletos'
openapi: 'GET /bank-slip/v1/payments/withdraws'
description: 'Lista o histórico de pagamentos de boletos com filtros e paginação'
---

## Visão Geral

Retorna uma lista paginada de todos os pagamentos de boletos realizados pela conta, com suporte a filtros avançados por status, data inicial e data final.

## Parâmetros de Query

<ParamField query="page" type="integer" default="1">
  Número da página a ser retornada

  **Valor mínimo:** 1
</ParamField>

<ParamField query="limit" type="integer" default="20">
  Quantidade de itens por página

  **Valor mínimo:** 1
  **Valor máximo:** 100
</ParamField>

<ParamField query="status" type="string">
  Filtrar por status do pagamento

  **Valores aceitos:**
  - `PENDING`: Pagamentos em processamento
  - `PAID`: Pagamentos confirmados
  - `CANCELED`: Pagamentos cancelados
  - `REFUND_OCCURRENCE`: Pagamentos com ocorrência de estorno
</ParamField>

<ParamField query="startDate" type="string">
  Data inicial para filtro (formato: YYYY-MM-DD)

  Retorna pagamentos criados **a partir desta data** (inclusive)

  **Exemplo:** `2024-01-01`
</ParamField>

<ParamField query="endDate" type="string">
  Data final para filtro (formato: YYYY-MM-DD)

  Retorna pagamentos criados **até esta data** (inclusive)

  **Exemplo:** `2024-01-31`
</ParamField>

## Resposta de Sucesso

<ResponseField name="data" type="array">
  Lista de pagamentos

  <Expandable title="data">
    <ResponseField name="data[].id" type="string">
      ID único do pagamento (UUID)
    </ResponseField>

    <ResponseField name="data[].externalId" type="string">
      Identificador externo (se fornecido na criação)
    </ResponseField>

    <ResponseField name="data[].status" type="string">
      Status atual: PENDING, PAID, CANCELED, REFUND_OCCURRENCE
    </ResponseField>

    <ResponseField name="data[].amount" type="number">
      Valor do pagamento em reais
    </ResponseField>

    <ResponseField name="data[].dueDate" type="string">
      Data de vencimento do boleto (formato ISO 8601)
    </ResponseField>

    <ResponseField name="data[].createdAt" type="string">
      Data/hora de criação do pagamento (formato ISO 8601)
    </ResponseField>

    <ResponseField name="data[].updatedAt" type="string">
      Data/hora da última atualização (formato ISO 8601)
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="meta" type="object">
  Metadados da paginação

  <Expandable title="meta">
    <ResponseField name="meta.page" type="integer">
      Página atual
    </ResponseField>

    <ResponseField name="meta.limit" type="integer">
      Itens por página
    </ResponseField>

    <ResponseField name="meta.total" type="integer">
      Total de itens encontrados
    </ResponseField>

    <ResponseField name="meta.totalPages" type="integer">
      Total de páginas disponíveis
    </ResponseField>

    <ResponseField name="meta.hasNextPage" type="boolean">
      Indica se existe próxima página
    </ResponseField>

    <ResponseField name="meta.hasPreviousPage" type="boolean">
      Indica se existe página anterior
    </ResponseField>
  </Expandable>
</ResponseField>

## Exemplos de Requisição

### Listar últimos 20 pagamentos

```bash cURL
curl -X GET "https://api-gateway.firebanking.com.br/bank-slip/v1/payments/withdraws?page=1&limit=20" \
  -H "x-api-key: YOUR_API_KEY"
```

### Filtrar por status PAID

```bash cURL
curl -X GET "https://api-gateway.firebanking.com.br/bank-slip/v1/payments/withdraws?status=PAID" \
  -H "x-api-key: YOUR_API_KEY"
```

### Filtrar por período

```bash cURL
curl -X GET "https://api-gateway.firebanking.com.br/bank-slip/v1/payments/withdraws?startDate=2024-01-01&endDate=2024-01-31" \
  -H "x-api-key: YOUR_API_KEY"
```

### Filtros combinados

```bash cURL
curl -X GET "https://api-gateway.firebanking.com.br/bank-slip/v1/payments/withdraws?page=1&limit=10&status=PAID&startDate=2024-01-01" \
  -H "x-api-key: YOUR_API_KEY"
```

```javascript JavaScript
const params = new URLSearchParams({
  page: '1',
  limit: '10',
  status: 'PAID',
  startDate: '2024-01-01'
});

const response = await fetch(`https://api-gateway.firebanking.com.br/bank-slip/v1/payments/withdraws?${params}`, {
  headers: {
    'x-api-key': 'YOUR_API_KEY'
  }
});

const data = await response.json();
```

```python Python
import requests

params = {
    'page': 1,
    'limit': 10,
    'status': 'PAID',
    'startDate': '2024-01-01'
}

response = requests.get(
    'https://api-gateway.firebanking.com.br/bank-slip/v1/payments/withdraws',
    params=params,
    headers={
        'x-api-key': 'YOUR_API_KEY'
    }
)

data = response.json()
```

## Exemplo de Resposta

```json
{
  "data": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "externalId": "PAY-2024-001",
      "status": "PAID",
      "amount": 152.50,
      "dueDate": "2024-01-15T03:00:00.000Z",
      "createdAt": "2024-01-10T14:00:00.000Z",
      "updatedAt": "2024-01-10T14:30:00.000Z"
    },
    {
      "id": "660e8400-e29b-41d4-a716-446655440001",
      "externalId": "PAY-2024-002",
      "status": "PAID",
      "amount": 89.99,
      "dueDate": "2024-01-20T03:00:00.000Z",
      "createdAt": "2024-01-12T10:15:00.000Z",
      "updatedAt": "2024-01-12T10:45:00.000Z"
    }
  ],
  "meta": {
    "page": 1,
    "limit": 20,
    "total": 45,
    "totalPages": 3,
    "hasNextPage": true,
    "hasPreviousPage": false
  }
}
```

## Códigos de Resposta

<ResponseField name="200" type="success">
  Listagem retornada com sucesso
</ResponseField>

<ResponseField name="400" type="error">
  Parâmetros inválidos

  **Possíveis causas:**
  - Data em formato inválido
  - Status inválido
  - Limit maior que 100
</ResponseField>

<ResponseField name="401" type="error">
  API key inválida ou ausente
</ResponseField>

<ResponseField name="500" type="error">
  Erro interno do servidor
</ResponseField>

## Ordenação

Os pagamentos são retornados **ordenados por data de criação decrescente** (mais recentes primeiro).

## Performance

<Note>
**Otimização**: O filtro por status é aplicado após a consulta no banco de dados (post-filtering). Para grandes volumes, considere usar apenas filtros de data para melhor performance.
</Note>

## Casos de Uso

### Dashboard de pagamentos

```javascript
// Buscar últimos 10 pagamentos
const recent = await listWithdraws({ page: 1, limit: 10 });

// Buscar pagamentos pendentes
const pending = await listWithdraws({ status: 'PENDING' });

// Buscar pagamentos do mês
const thisMonth = await listWithdraws({
  startDate: '2024-01-01',
  endDate: '2024-01-31'
});
```

### Paginação

```javascript
async function getAllPayments() {
  const allPayments = [];
  let page = 1;
  let hasMore = true;

  while (hasMore) {
    const response = await listWithdraws({ page, limit: 100 });
    allPayments.push(...response.data);
    hasMore = response.meta.hasNextPage;
    page++;
  }

  return allPayments;
}
```

### Relatório financeiro

```javascript
async function getMonthlyReport(year, month) {
  const startDate = `${year}-${month.toString().padStart(2, '0')}-01`;
  const endDate = new Date(year, month, 0).toISOString().split('T')[0];

  const response = await listWithdraws({
    startDate,
    endDate,
    status: 'PAID',
    limit: 100
  });

  const total = response.data.reduce((sum, payment) => sum + payment.amount, 0);

  return {
    total,
    count: response.meta.total,
    payments: response.data
  };
}
```

## Filtros Disponíveis

| Filtro | Tipo | Descrição |
|--------|------|-----------|
| `page` | integer | Página atual (padrão: 1) |
| `limit` | integer | Itens por página (padrão: 20, máx: 100) |
| `status` | string | Status do pagamento |
| `startDate` | string | Data inicial (YYYY-MM-DD) |
| `endDate` | string | Data final (YYYY-MM-DD) |

## Próximos Passos

- **Consultar detalhes**: Use [Consultar Status](/api-reference/bank-slip/payment/get-status) para ver detalhes de um pagamento específico
- **Criar pagamento**: Use [Pagar Boleto](/api-reference/bank-slip/payment/create-withdraw) para criar um novo pagamento
- **Verificar dados**: Use [Verificar Dados](/api-reference/bank-slip/payment/verify-data) antes de criar o pagamento

<Tip>
**Dica**: Combine filtros de data e status para criar relatórios personalizados. Por exemplo, listar todos os pagamentos pagos em um determinado período.
</Tip>
