---
title: 'Consultar Boleto'
openapi: 'GET /bank-slip/v1/payment/{id}'
description: 'Consulte o status e detalhes de um boleto banc√°rio pelo ID da transa√ß√£o'
---

## Vis√£o Geral

Consulte informa√ß√µes detalhadas de um boleto banc√°rio utilizando o ID da transa√ß√£o ou seu `externalId`. Este endpoint retorna dados completos sobre o status, valores, pagador e metadados do boleto.

<Info>
  Use este endpoint para verificar se um boleto foi pago, cancelado ou ainda est√° aguardando pagamento.
</Info>

## Par√¢metros da URL

<ParamField path="id" type="string" required>
  ID do boleto ou `externalId` fornecido na cria√ß√£o
</ParamField>


## Exemplo de Requisi√ß√£o

<CodeGroup>
```bash cURL - Por ID Interno
curl --request GET \
  --url 'https://api-gateway.firebanking.com.br/bank-slip/v1/payment/<id>' \
  --header 'Accept: application/json' \
  --header 'Content-Type: application/json' \
  --header 'x-api-key: <sua-chave-api>'
```

```bash cURL - Por External ID
curl --request GET \
  --url 'https://api-gateway.firebanking.com.br/bank-slip/v1/payment/<externalId>' \
  --header 'Accept: application/json' \
  --header 'Content-Type: application/json' \
  --header 'x-api-key: <sua-chave-api>'
```

```javascript JavaScript
// Consultar por ID interno
const response = await fetch('https://api-gateway.firebanking.com.br/bank-slip/v1/payment/bol_1234567890123456', {
  headers: {
    'x-api-key': 'SUA_CHAVE_DE_API'
  }
});

const boleto = await response.json();
console.log('Status do boleto:', boleto.status);

// Consultar por external_id
const responseExternal = await fetch('https://api-gateway.firebanking.com.br/bank-slip/v1/payment/pedido-123', {
  headers: {
    'x-api-key': 'SUA_CHAVE_DE_API'
  }
});

const boletoExternal = await responseExternal.json();
```

```python Python
import requests

# Por ID interno
response = requests.get(
    'https://api-gateway.firebanking.com.br/bank-slip/v1/payment/bol_1234567890123456',
    headers={'x-api-key': 'SUA_CHAVE_DE_API'}
)

boleto = response.json()
print(f'Status: {boleto["status"]}')

# Por external_id
response_external = requests.get(
    'https://api-gateway.firebanking.com.br/bank-slip/v1/payment/pedido-123',
    headers={'x-api-key': 'SUA_CHAVE_DE_API'}
)

boleto_external = response_external.json()
```

```php PHP
<?php
// Por ID interno
$curl = curl_init();
curl_setopt_array($curl, [
    CURLOPT_URL => 'https://api-gateway.firebanking.com.br/bank-slip/v1/payment/bol_1234567890123456',
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_HTTPHEADER => [
        'x-api-key: SUA_CHAVE_DE_API'
    ]
]);

$response = curl_exec($curl);
$boleto = json_decode($response, true);
echo 'Status: ' . $boleto['status'];

// Por external_id
curl_setopt($curl, CURLOPT_URL, 'https://api-gateway.firebanking.com.br/bank-slip/v1/payment/pedido-123');
$response_external = curl_exec($curl);
curl_close($curl);
?>
```
</CodeGroup>

## Exemplo de Resposta

<ResponseExample>
```json 200 OK
{
    "amount": "850.75",
    "description": "Pagamento referente √† fatura de servi√ßos prestados no m√™s de mar√ßo",
    "dueDate": "2025-04-10",
    "externalId": "EXT987654321",
    "id": "a7b8c9d0-1234-5678-abcd-efghijklmnop",
    "paymentDate": "2023-08-15T09:30:00.000Z",
    "status": "PAID",
    "barcode": "34198103400001850700125005310145678965430000",
    "slipLine": "34191090090518507634567890000003810290000850750",
    "issuingBank": "bradesco",
    "pixCode": "00020101021226980014br.gov.bcb.pix2576qrcode-h.pix.celcoin.com.br/pixqrcode/v2/cobv/9e30b4fcb8ef234b1c5a7e9f6dff62214000053039865802BR5924Servicos Exemplares Ltda6007SaoPaulo62070503***6304DEFG",
    "transactions": [
        {
            "id": "b8d7e6a5-1234-5678-abcd-9876543210fe",
            "status": "PENDING"
        },
        {
            "id": "d4f5e6a7-89b0-1234-cdef-1234567890ab",
            "status": "WAITING_PAYMENT"
        },
        {
            "id": "a1b2c3d4-5678-1234-e567-8901234567cd",
            "status": "PAID"
        }
    ],
    "instructions": {
        "fine": {
            "type": "PERCENTAGE",
            "value": "0.5"
        },
        "interest": {
            "type": "PERCENTAGE",
            "value": "12"
        }
    },
    "pdfUrl": "https://s3.us-east-1.amazonaws.com/dev...",
    "payer": {
        "city": "SAO PAULO",
        "name": "JULIANO PEREIRA SILVA",
        "document": "12345678901",
        "neighborhood": "PONTE GRANDE",
        "number": "2500",
        "postalCode": "03367010",
        "publicArea": "AV. RIO DAS PEDRAS",
        "state": "SP"
    }
}
```
</ResponseExample>

## Status do Boleto

### Estados Poss√≠veis

<AccordionGroup>
  <Accordion title="registered">
    - **Descri√ß√£o**: Boleto registrado no banco, aguardando pagamento
    - **A√ß√µes poss√≠veis**: Cancelar, gerar PDF, aguardar pagamento
    - **Pr√≥ximo status**: `paid`, `expired`, `cancelled`
  </Accordion>

  <Accordion title="paid">
    - **Descri√ß√£o**: Boleto pago com sucesso
    - **Dados adicionais**: Valor pago, data de pagamento, banco pagador
    - **Status final**: Transa√ß√£o conclu√≠da
  </Accordion>

  <Accordion title="expired">
    - **Descri√ß√£o**: Boleto expirou (90 dias ap√≥s vencimento)
    - **A√ß√£o**: N√£o √© mais poss√≠vel pagar
    - **Status final**: Criar novo boleto se necess√°rio
  </Accordion>

  <Accordion title="cancelled">
    - **Descri√ß√£o**: Boleto cancelado pelo lojista
    - **A√ß√£o**: N√£o √© mais poss√≠vel pagar
    - **Status final**: Cancelamento irrevers√≠vel
  </Accordion>
</AccordionGroup>

## Implementa√ß√£o Frontend

### Verificar Status Automaticamente
```javascript
class BoletoStatusChecker {
  constructor(boletoId) {
    this.boletoId = boletoId;
    this.checkInterval = null;
    this.maxChecks = 120; // 2 horas (verificar a cada 60s)
    this.currentCheck = 0;
  }

  start() {
    this.checkInterval = setInterval(() => {
      this.checkStatus();
    }, 60000); // Verificar a cada 1 minuto

    // Primeira verifica√ß√£o imediata
    this.checkStatus();
  }

  async checkStatus() {
    try {
      const response = await fetch(`/api/boleto/${this.boletoId}/status`);
      const boleto = await response.json();

      this.handleStatusUpdate(boleto);

      // Parar verifica√ß√£o se pago ou expirado
      if (['paid', 'expired', 'cancelled'].includes(boleto.status)) {
        this.stop();
      }

      // Parar ap√≥s limite de verifica√ß√µes
      this.currentCheck++;
      if (this.currentCheck >= this.maxChecks) {
        this.stop();
      }
    } catch (error) {
      console.error('Erro ao verificar status:', error);
    }
  }

  handleStatusUpdate(boleto) {
    switch (boleto.status) {
      case 'paid':
        this.showPaymentSuccess(boleto);
        break;
      case 'expired':
        this.showBoletoExpired(boleto);
        break;
      case 'cancelled':
        this.showBoletoCancelled(boleto);
        break;
      default:
        this.updateStatusDisplay(boleto.status);
    }
  }

  showPaymentSuccess(boleto) {
    document.getElementById('boleto-status').innerHTML = `
      <div class="alert alert-success">
        <h4>‚úÖ Pagamento Confirmado!</h4>
        <p>Boleto pago em ${formatDate(boleto.paid_at)}</p>
        <p>Valor pago: ${formatCurrency(boleto.paid_amount)}</p>
      </div>
    `;

    // Redirecionar ou processar pr√≥ximos passos
    setTimeout(() => {
      window.location.href = '/pedido/confirmado';
    }, 3000);
  }

  showBoletoExpired(boleto) {
    document.getElementById('boleto-status').innerHTML = `
      <div class="alert alert-warning">
        <h4>‚è∞ Boleto Expirado</h4>
        <p>Este boleto expirou e n√£o pode mais ser pago.</p>
        <button onclick="generateNewBoleto()">Gerar Novo Boleto</button>
      </div>
    `;
  }

  stop() {
    if (this.checkInterval) {
      clearInterval(this.checkInterval);
      this.checkInterval = null;
    }
  }
}

// Uso
const statusChecker = new BoletoStatusChecker('bol_1234567890123456');
statusChecker.start();
```

### Exibir Dados do Boleto
```html
<div id="boleto-details">
  <div class="boleto-header">
    <h3>Boleto Banc√°rio</h3>
    <span class="status-badge" id="status-badge">Aguardando Pagamento</span>
  </div>

  <div class="boleto-info">
    <div class="info-group">
      <label>Valor:</label>
      <span id="boleto-amount" class="amount">R$ 250,00</span>
    </div>

    <div class="info-group">
      <label>Vencimento:</label>
      <span id="boleto-due-date">15/02/2024</span>
    </div>

    <div class="info-group">
      <label>C√≥digo de Barras:</label>
      <div class="barcode-input">
        <input type="text" id="barcode" readonly>
        <button onclick="copyBarcode()">üìã</button>
      </div>
    </div>
  </div>

  <div class="boleto-actions">
    <a href="#" id="pdf-link" class="btn btn-primary" target="_blank">
      üìÑ Visualizar PDF
    </a>
    <button onclick="checkPayment()" class="btn btn-secondary">
      üîÑ Verificar Pagamento
    </button>
  </div>

  <div id="payment-details" style="display: none;">
    <!-- Detalhes do pagamento aparecer√£o aqui quando pago -->
  </div>
</div>
```

### Fun√ß√µes de Utilidade
```javascript
function formatCurrency(amount) {
  return (amount / 100).toLocaleString('pt-BR', {
    style: 'currency',
    currency: 'BRL'
  });
}

function formatDate(dateString) {
  return new Date(dateString).toLocaleDateString('pt-BR');
}

function updateBoletoDisplay(boleto) {
  document.getElementById('boleto-amount').textContent = formatCurrency(boleto.amount);
  document.getElementById('boleto-due-date').textContent = formatDate(boleto.due_date);
  document.getElementById('barcode').value = boleto.digitable_line;
  document.getElementById('pdf-link').href = boleto.pdf_url;

  updateStatusBadge(boleto.status);

  if (boleto.status === 'paid') {
    showPaymentDetails(boleto);
  }
}

function updateStatusBadge(status) {
  const badge = document.getElementById('status-badge');
  const statusMap = {
    'registered': { text: 'Aguardando Pagamento', class: 'status-pending' },
    'paid': { text: 'Pago', class: 'status-success' },
    'expired': { text: 'Expirado', class: 'status-error' },
    'cancelled': { text: 'Cancelado', class: 'status-error' }
  };

  const statusInfo = statusMap[status] || { text: status, class: 'status-default' };
  badge.textContent = statusInfo.text;
  badge.className = `status-badge ${statusInfo.class}`;
}

function showPaymentDetails(boleto) {
  const detailsDiv = document.getElementById('payment-details');
  detailsDiv.innerHTML = `
    <div class="payment-success">
      <h4>‚úÖ Pagamento Confirmado</h4>
      <div class="payment-info">
        <p><strong>Valor Pago:</strong> ${formatCurrency(boleto.paid_amount)}</p>
        <p><strong>Data do Pagamento:</strong> ${formatDate(boleto.paid_at)}</p>
        <p><strong>Banco:</strong> ${boleto.payment_info.bank_name}</p>
        ${boleto.fees.total_fees > 0 ?
          `<p><strong>Multa/Juros:</strong> ${formatCurrency(boleto.fees.total_fees)}</p>` :
          ''
        }
      </div>
    </div>
  `;
  detailsDiv.style.display = 'block';
}
```

## Casos de Uso

### Dashboard Administrativo
```javascript
async function loadBoletosDashboard() {
  const boletos = await fetch('/api/boletos/recent').then(r => r.json());

  const statusCounts = boletos.reduce((acc, boleto) => {
    acc[boleto.status] = (acc[boleto.status] || 0) + 1;
    return acc;
  }, {});

  displayDashboardMetrics(statusCounts);
}

function displayDashboardMetrics(statusCounts) {
  document.getElementById('total-registered').textContent = statusCounts.registered || 0;
  document.getElementById('total-paid').textContent = statusCounts.paid || 0;
  document.getElementById('total-expired').textContent = statusCounts.expired || 0;
}
```

### Reconcilia√ß√£o Financeira
```javascript
async function generateReconciliationReport(startDate, endDate) {
  const response = await fetch(`/api/boletos/paid?start=${startDate}&end=${endDate}`);
  const paidBoletos = await response.json();

  const report = {
    total_transactions: paidBoletos.length,
    gross_amount: paidBoletos.reduce((sum, b) => sum + b.paid_amount, 0),
    fees_amount: paidBoletos.reduce((sum, b) => sum + b.reconciliation.firebanking_fee, 0),
    net_amount: paidBoletos.reduce((sum, b) => sum + b.reconciliation.net_amount, 0)
  };

  return report;
}
```

## Pr√≥ximos Passos

<CardGroup cols={2}>
  <Card title="Gerar PDF" href="/api-reference/bank-slip/generate-pdf">
    Baixe o arquivo PDF do boleto
  </Card>
  <Card title="Cancelar Boleto" href="/api-reference/bank-slip/cancel">
    Cancele boletos n√£o pagos
  </Card>
  <Card title="Webhooks" href="/api-reference/bank-slip/webhook-paid">
    Configure notifica√ß√µes autom√°ticas
  </Card>
  <Card title="Relat√≥rios" href="/api-reference/reports/bank-slips">
    Gere relat√≥rios de boletos
  </Card>
</CardGroup>