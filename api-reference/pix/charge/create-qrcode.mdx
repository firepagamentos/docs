---
title: 'Criar PIX QR Code'
api: 'POST https://api-gateway.firebanking.com.br/v2/payment'
description: 'Gera QR Code PIX dinâmico para recebimento de pagamentos'
---

## Visão Geral

Crie um PIX com QR Code dinâmico para receber pagamentos. O QR Code gerado é único para cada transação e pode ser usado uma única vez.

<Warning>
  Esta documentação usa a **API v2**. Para versões anteriores, consulte a [documentação v1](/api-reference/pix/charge/create-qrcode-v1).
</Warning>

## Parâmetros da Requisição

<ParamField body="amount" type="integer" required>
  Valor da cobrança em reais (R$ 100,00 = 100)
</ParamField>

<ParamField body="description" type="string" required>
  Descrição da cobrança (máximo 140 caracteres)
</ParamField>

<ParamField body="externalId" type="string" required>
  Identificador único da transação em seu sistema
</ParamField>

<ParamField body="expiration" type="string">
  Data de expiração da cobrança (ISO 8601). Padrão: 24 horas
</ParamField>

<ParamField body="buyer" type="object">
  Dados do pagador (opcional para QR Code)
  <Expandable title="buyer">
    <ParamField body="buyer.name" type="string">
      Nome completo do pagador
    </ParamField>
    <ParamField body="buyer.document" type="string">
      CPF ou CNPJ do pagador (apenas números)
    </ParamField>
    <ParamField body="buyer.email" type="string">
      Email do pagador para notificações
    </ParamField>
    <ParamField body="buyer.phone" type="string">
      Telefone do pagador
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="callback_url" type="string">
  URL para receber webhooks específicos desta transação
</ParamField>

<ParamField body="return_url" type="string">
  URL para redirecionamento após pagamento (apps mobile)
</ParamField>

<ParamField body="metadata" type="object">
  Dados adicionais da transação (chave-valor)
</ParamField>

## Exemplo de Requisição

<CodeGroup>
```bash cURL
curl -X POST "https://api-gateway.firebanking.com.br/v2/payment" \
  -H "x-api-key: fbk_live_sua_chave_aqui" \
  -H "Content-Type: application/json" \
  -d '{
    "amount": 150,
    "description": "Compra na loja virtual",
    "externalId": "pedido-12345",
    "expiration": "2024-12-31T23:59:59Z",
    "buyer": {
      "name": "Maria Silva Santos",
      "document": "12345678901",
      "email": "maria@email.com",
      "phone": "11999999999"
    },
    "callback_url": "https://meusite.com/webhooks/pix",
    "return_url": "meuapp://payment/success",
    "metadata": {
      "pedido_id": "12345",
      "vendedor": "Loja ABC"
    }
  }'
```

```javascript JavaScript
const pixPayment = await fetch('https://api-gateway.firebanking.com.br/v2/payment', {
  method: 'POST',
  headers: {
    'x-api-key': 'fbk_live_sua_chave_aqui',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    amount: 150, // R$ 150,00
    description: 'Compra na loja virtual',
    externalId: 'pedido-12345',
    expiration: '2024-12-31T23:59:59Z',
    buyer: {
      name: 'Maria Silva Santos',
      document: '12345678901',
      email: 'maria@email.com',
      phone: '11999999999'
    },
    callback_url: 'https://meusite.com/webhooks/pix',
    metadata: {
      pedido_id: '12345',
      vendedor: 'Loja ABC'
    }
  })
});

const result = await pixPayment.json();
console.log('PIX criado:', result);
```

```python Python
import requests

pix_data = {
    "amount": 150,  # R$ 150,00
    "description": "Compra na loja virtual",
    "externalId": "pedido-12345",
    "expiration": "2024-12-31T23:59:59Z",
    "buyer": {
        "name": "Maria Silva Santos",
        "document": "12345678901",
        "email": "maria@email.com",
        "phone": "11999999999"
    },
    "callback_url": "https://meusite.com/webhooks/pix",
    "metadata": {
        "pedido_id": "12345",
        "vendedor": "Loja ABC"
    }
}

response = requests.post(
    'https://api-gateway.firebanking.com.br/v2/payment',
    json=pix_data,
    headers={
        'x-api-key': 'fbk_live_sua_chave_aqui',
        'Content-Type': 'application/json'
    }
)

result = response.json()
print('PIX criado:', result)
```

```php PHP
<?php
$pixData = [
    'amount' => 150, // R$ 150,00
    'description' => 'Compra na loja virtual',
    'externalId' => 'pedido-12345',
    'expiration' => '2024-12-31T23:59:59Z',
    'buyer' => [
        'name' => 'Maria Silva Santos',
        'document' => '12345678901',
        'email' => 'maria@email.com',
        'phone' => '11999999999'
    ],
    'callback_url' => 'https://meusite.com/webhooks/pix',
    'metadata' => [
        'pedido_id' => '12345',
        'vendedor' => 'Loja ABC'
    ]
];

$curl = curl_init();
curl_setopt_array($curl, [
    CURLOPT_URL => 'https://api-gateway.firebanking.com.br/v2/payment',
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_POST => true,
    CURLOPT_POSTFIELDS => json_encode($pixData),
    CURLOPT_HTTPHEADER => [
        'x-api-key: fbk_live_sua_chave_aqui',
        'Content-Type: application/json'
    ]
]);

$response = curl_exec($curl);
$result = json_decode($response, true);
echo 'PIX criado: ' . print_r($result, true);
?>
```
</CodeGroup>

## Exemplo de Resposta

<ResponseExample>
```json 200 OK
{
  "id": "pix_12345678901234567890",
  "externalId": "pedido-12345",
  "status": "pending",
  "amount": 15000,
  "currency": "BRL",
  "description": "Compra na loja virtual",
  "qrCode": {
    "text": "00020101021226830014br.gov.bcb.pix2561api-gateway.firebanking.com.br/pix/v2/12345678901234567890520400005303986540515.005802BR5925Loja Virtual FireBanking6009SAO PAULO62070503***630445E3",
    "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICA...",
    "expires_at": "2024-12-31T23:59:59Z"
  },
  "pixKey": "12345678-1234-1234-1234-123456789012",
  "buyer": {
    "name": "Maria Silva Santos",
    "document": "***.***.***-01",
    "email": "maria@email.com",
    "phone": "(11) 9****-9999"
  },
  "paymentLink": "https://pay.firebanking.com/pix/12345678901234567890",
  "expires_at": "2024-12-31T23:59:59Z",
  "created_at": "2024-01-15T10:30:00Z",
  "metadata": {
    "pedido_id": "12345",
    "vendedor": "Loja ABC"
  }
}
```

```json 400 Bad Request
{
  "error": {
    "code": "INVALID_AMOUNT",
    "message": "O valor deve ser maior que R$ 0,01 e menor que R$ 20.000,00",
    "details": "Valor recebido: 0 reais",
    "request_id": "req_123456789"
  }
}
```

```json 401 Unauthorized
{
  "error": {
    "code": "INVALID_API_KEY",
    "message": "Chave de API inválida ou expirada",
    "request_id": "req_123456789"
  }
}
```
</ResponseExample>

## Campos de Resposta

<ResponseField name="id" type="string">
  ID único da transação PIX no FireBanking
</ResponseField>

<ResponseField name="externalId" type="string">
  Seu identificador único da transação
</ResponseField>

<ResponseField name="status" type="string">
  Status atual da transação: `pending`, `paid`, `expired`, `cancelled`
</ResponseField>

<ResponseField name="amount" type="integer">
  Valor da cobrança em reais
</ResponseField>

<ResponseField name="currency" type="string">
  Código da moeda (sempre `BRL`)
</ResponseField>

<ResponseField name="qrCode" type="object">
  Dados do QR Code PIX
  <Expandable title="qrCode">
    <ResponseField name="qrCode.text" type="string">
      Código PIX Copia e Cola (string para pagamento)
    </ResponseField>
    <ResponseField name="qrCode.image" type="string">
      QR Code em formato base64 (PNG)
    </ResponseField>
    <ResponseField name="qrCode.expires_at" type="string">
      Data/hora de expiração do QR Code
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="pixKey" type="string">
  Chave PIX gerada para esta transação (opcional)
</ResponseField>

<ResponseField name="paymentLink" type="string">
  Link direto para pagamento (ideal para WhatsApp/email)
</ResponseField>

<ResponseField name="expires_at" type="string">
  Data/hora de expiração da cobrança
</ResponseField>

<ResponseField name="created_at" type="string">
  Data/hora de criação da transação
</ResponseField>

## Implementação Frontend

### Exibir QR Code
```html
<div id="pix-payment">
  <h3>Pague com PIX</h3>
  <img id="qr-image" src="" alt="QR Code PIX" />
  <p>
    <strong>Pix Copia e Cola:</strong>
    <input type="text" id="pix-code" readonly />
    <button onclick="copyPixCode()">Copiar</button>
  </p>
  <p>Valor: R$ <span id="amount"></span></p>
  <p>Expira em: <span id="expires"></span></p>
</div>

<script>
function showPixPayment(pixData) {
  document.getElementById('qr-image').src = pixData.qrCode.image;
  document.getElementById('pix-code').value = pixData.qrCode.text;
  document.getElementById('amount').textContent = pixData.amount.toLocaleString('pt-BR', {
    minimumFractionDigits: 2
  });
  document.getElementById('expires').textContent = new Date(pixData.expires_at).toLocaleString('pt-BR');
}

function copyPixCode() {
  const pixCode = document.getElementById('pix-code');
  pixCode.select();
  navigator.clipboard.writeText(pixCode.value);
  alert('Código PIX copiado!');
}
</script>
```

### Verificar Status (Polling)
```javascript
async function checkPaymentStatus(pixId) {
  try {
    const response = await fetch(`https://api-gateway.firebanking.com.br/v2/payment/${pixId}`, {
      headers: {
        'x-api-key': 'fbk_live_sua_chave_aqui'
      }
    });
    
    const payment = await response.json();
    
    if (payment.status === 'paid') {
      // Pagamento confirmado!
      showSuccess('Pagamento recebido com sucesso!');
      window.location.href = '/pedido-confirmado';
    } else if (payment.status === 'expired') {
      // PIX expirou
      showError('PIX expirou. Gere um novo código.');
    }
    
    return payment.status;
  } catch (error) {
    console.error('Erro ao verificar status:', error);
  }
}

// Verificar a cada 5 segundos
const statusInterval = setInterval(() => {
  checkPaymentStatus('pix_12345678901234567890')
    .then(status => {
      if (status === 'paid' || status === 'expired') {
        clearInterval(statusInterval);
      }
    });
}, 5000);
```

## Boas Práticas

### Expiração do QR Code
- **Padrão recomendado**: 30 minutos a 2 horas
- **E-commerce**: Até 24 horas
- **Pagamentos presenciais**: 5 a 15 minutos
- **Sempre configure**: Evite QR Codes sem expiração

### Experiência do Usuário
- **Exiba o valor**: Sempre mostre o valor em reais
- **Botão de copiar**: Facilite o "Copia e Cola"
- **Status em tempo real**: Use polling ou websockets
- **Instruções claras**: Oriente como usar o PIX

### Segurança
- **Validate dados**: Sempre valide valores e formatos
- **Use HTTPS**: Apenas endpoints seguros
- **Não exponha chaves**: Mantenha API keys seguras
- **Log transações**: Registre para auditoria

## Códigos de Erro

| Código | Descrição |
|--------|-----------|
| `INVALID_AMOUNT` | Valor inválido (mín: R$ 0,01, máx: R$ 20.000,00) |
| `INVALID_EXPIRATION` | Data de expiração inválida ou no passado |
| `INVALID_DOCUMENT` | CPF ou CNPJ inválido |
| `EXTERNAL_ID_EXISTS` | ExternalId já usado em transação ativa |
| `INVALID_CALLBACK_URL` | URL de callback inválida |
| `ACCOUNT_LIMIT_EXCEEDED` | Limite da conta excedido |

## Webhooks

Quando o PIX for pago, você receberá um webhook:

```json
{
  "event": "pix.payment_received",
  "pix_id": "pix_12345678901234567890",
  "external_id": "pedido-12345",
  "timestamp": "2024-01-15T10:35:00Z",
  "data": {
    "id": "pix_12345678901234567890",
    "status": "paid",
    "amount": 150,
    "paid_at": "2024-01-15T10:35:00Z",
    "payer": {
      "name": "João Silva",
      "document": "***.***.***-12",
      "bank": "Banco do Brasil"
    }
  }
}
```

## Próximos Passos

<CardGroup cols={2}>
  <Card title="PIX por Chave" href="/api-reference/pix/charge/create-key">
    Crie cobranças usando chaves PIX
  </Card>
  <Card title="Consultar PIX" href="/api-reference/pix/charge/get">
    Verifique status e histórico de transações
  </Card>
  <Card title="Webhooks PIX" href="/api-reference/pix/webhooks-cashin">
    Configure notificações automáticas
  </Card>
  <Card title="Testar no Sandbox" href="/testing">
    Use dados de teste para desenvolvimento
  </Card>
</CardGroup>