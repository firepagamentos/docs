---
title: 'Consultar Cobrança'
openapi: 'GET /pix/v2/payment/{id}'
description: 'Consulte o status e detalhes de uma cobrança PIX pelo ID da transação'
---

## Visão Geral

Consulte informações detalhadas de uma cobrança PIX utilizando o ID da transação. Este endpoint retorna dados completos sobre o status, valores, participantes e metadados da transação.

<Info>
  A API aceita tanto o `id` interno da transação quanto o `externalId` fornecido na criação da cobrança. A identificação é feita automaticamente.
</Info>

## Parâmetros da URL

<ParamField path="id" type="string" required>
  ID da transação PIX ou `externalId` fornecido na criação
</ParamField>


## Exemplo de Requisição

<CodeGroup>
```bash cURL - ID Interno
curl -X GET "https://api-gateway.firebanking.com.br/pix/v2/payment/pix_12345678901234567890" \
  -H "x-api-key: SUA_CHAVE_DE_API" \
  -H "Content-Type: application/json"
```

```bash cURL - ID Externo
curl -X GET "https://api-gateway.firebanking.com.br/pix/v2/payment/pedido-12345" \
  -H "x-api-key: SUA_CHAVE_DE_API" \
  -H "Content-Type: application/json"
```

```javascript JavaScript
// Buscar por ID interno
const response = await fetch('https://api-gateway.firebanking.com.br/pix/v2/payment/pix_12345678901234567890', {
  headers: {
    'x-api-key': 'SUA_CHAVE_DE_API',
    'Content-Type': 'application/json'
  }
});

const payment = await response.json();
console.log('Status da cobrança:', payment.status);

// Buscar por ID externo
const responseExternal = await fetch('https://api-gateway.firebanking.com.br/pix/v2/payment/pedido-12345', {
  headers: {
    'x-api-key': 'SUA_CHAVE_DE_API',
    'Content-Type': 'application/json'
  }
});

const paymentExternal = await responseExternal.json();
```

```python Python
import requests

# Buscar por ID interno
response = requests.get(
    'https://api-gateway.firebanking.com.br/pix/v2/payment/pix_12345678901234567890',
    headers={
        'x-api-key': 'SUA_CHAVE_DE_API',
        'Content-Type': 'application/json'
    }
)

payment = response.json()
print(f"Status: {payment['status']}")

# Buscar por ID externo
response_external = requests.get(
    'https://api-gateway.firebanking.com.br/pix/v2/payment/pedido-12345',
    headers={
        'x-api-key': 'SUA_CHAVE_DE_API',
        'Content-Type': 'application/json'
    }
)

payment_external = response_external.json()
```
</CodeGroup>

## Exemplo de Resposta

<ResponseExample>
```json 200 OK - Cobrança Pendente (WAITING_PAYMENT)
{
  "id": "997d58ca-bdfb-481d-93cd-7401e68cc0ea",
  "externalId": "your-external-id",
  "businessId": "6864503fed937a987efcc5f3",
  "endToEndId": null,
  "operation": {
    "provider": "providerName",
    "type": "PAYMENT",
    "status": "WAITING_PAYMENT",
    "value": 0.15,
    "fee": 0.1,
    "finalValue": 0.05,
    "refundValue": 0,
    "description": "Cobrança de teste",
    "additionalInfo": {
      "sellerId": "123",
      "whatsAppPhone": "37988996655"
    }
  },
  "negotiator": {
    "fullName": "John Marvin",
    "document": "***123667**"
  },
  "payer": null,
  "receiver": null,
  "createdAt": "2025-06-28T18:16:09.069Z",
  "updatedAt": "2025-06-28T18:16:09.069Z"
}
```

```json 200 OK - Cobrança Paga (PAID)
{
  "id": "997d58ca-bdfb-481d-93cd-7401e68cc0ea",
  "externalId": "your-external-id",
  "businessId": "6864503fed937a987efcc5f3",
  "endToEndId": "E22896431202507012304VqlYVvBPxYp",
  "operation": {
    "provider": "providerName",
    "type": "PAYMENT",
    "status": "PAID",
    "value": 0.15,
    "fee": 0.1,
    "finalValue": 0.05,
    "refundValue": 0,
    "description": "Cobrança de teste",
    "additionalInfo": {
      "sellerId": "123",
      "whatsAppPhone": "37988996655"
    }
  },
  "negotiator": {
    "fullName": "John Marvin",
    "document": "***123667**"
  },
  "payer": {
    "fullName": "John Lenon",
    "document": "***123667**"
  },
  "receiver": null,
  "createdAt": "2025-06-28T18:16:09.069Z",
  "updatedAt": "2025-06-28T18:16:09.069Z"
}
```

```json 200 OK - Transferência PIX (WITHDRAW_PAID)
{
  "id": "997d58ca-bdfb-481d-93cd-7401e68cc0ea",
  "externalId": "your-external-id",
  "businessId": "6864503fed937a987efcc5f3",
  "endToEndId": "E22896431202507012304VqlYVvBPxYp",
  "operation": {
    "provider": "providerName",
    "type": "WITHDRAW",
    "status": "WITHDRAW_PAID",
    "value": 0.15,
    "fee": 0.1,
    "finalValue": 0.25,
    "refundValue": 0,
    "description": "Cobrança de teste",
    "additionalInfo": {
      "sellerId": "123",
      "whatsAppPhone": "37988996655"
    }
  },
  "negotiator": {
    "fullName": "John Marvin",
    "document": "***123667**"
  },
  "payer": null,
  "receiver": {
    "name": "José Maria da Silva",
    "document": "**********",
    "bankName": "Banco C6 S.A.",
    "pixKey": "12312312387",
    "pixKeyType": "DOCUMENT"
  },
  "createdAt": "2025-06-28T18:16:09.069Z",
  "updatedAt": "2025-06-28T18:16:09.069Z"
}
```

```json 200 OK - Cobrança Expirada (EXPIRED)
{
  "id": "997d58ca-bdfb-481d-93cd-7401e68cc0ea",
  "externalId": "your-external-id",
  "businessId": "6864503fed937a987efcc5f3",
  "endToEndId": null,
  "operation": {
    "provider": "providerName",
    "type": "PAYMENT",
    "status": "EXPIRED",
    "value": 0.15,
    "fee": 0.1,
    "finalValue": 0.05,
    "refundValue": 0,
    "description": "Cobrança de teste"
  },
  "negotiator": {
    "fullName": "John Marvin",
    "document": "***123667**"
  },
  "payer": null,
  "receiver": null,
  "createdAt": "2025-06-28T18:16:09.069Z",
  "updatedAt": "2025-06-28T18:16:09.069Z"
}
```

```json 404 Not Found
{
  "error": {
    "code": "TRANSACTION_NOT_FOUND",
    "message": "Transação não encontrada",
    "details": "Nenhuma transação encontrada com o ID fornecido",
    "request_id": "req_987654321"
  }
}
```
</ResponseExample>

## Campos de Resposta

<ResponseField name="id" type="string">
  ID único da transação PIX no FireBanking
</ResponseField>

<ResponseField name="externalId" type="string">
  ID externo fornecido na criação da transação
</ResponseField>

<ResponseField name="businessId" type="string">
  ID da empresa/negócio no FireBanking
</ResponseField>

<ResponseField name="endToEndId" type="string">
  Identificador fim-a-fim da transação PIX (apenas para transações processadas)
</ResponseField>

<ResponseField name="operation" type="object">
  Dados da operação PIX
  <Expandable title="operation">
    <ResponseField name="operation.provider" type="string">
      Provedor de pagamento utilizado
    </ResponseField>
    <ResponseField name="operation.type" type="string">
      Tipo da operação: `PAYMENT` (cobrança) ou `WITHDRAW` (transferência)
    </ResponseField>
    <ResponseField name="operation.status" type="string">
      Status atual da transação:
      - `WAITING_PAYMENT` - Aguardando pagamento
      - `PAID` - Pago com sucesso
      - `WITHDRAW_PAID` - Transferência realizada
      - `EXPIRED` - Expirado
      - `CANCELLED` - Cancelado
      - `REFUNDED` - Reembolsado
    </ResponseField>
    <ResponseField name="operation.value" type="number">
      Valor da transação em reais
    </ResponseField>
    <ResponseField name="operation.fee" type="number">
      Taxa cobrada pela transação
    </ResponseField>
    <ResponseField name="operation.finalValue" type="number">
      Valor final líquido da transação
    </ResponseField>
    <ResponseField name="operation.refundValue" type="number">
      Valor do estorno (se aplicável)
    </ResponseField>
    <ResponseField name="operation.description" type="string">
      Descrição da transação
    </ResponseField>
    <ResponseField name="operation.additionalInfo" type="object">
      Informações adicionais da transação
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="negotiator" type="object">
  Dados do solicitante da transação
  <Expandable title="negotiator">
    <ResponseField name="negotiator.fullName" type="string">
      Nome completo do solicitante
    </ResponseField>
    <ResponseField name="negotiator.document" type="string">
      CPF/CNPJ mascarado do solicitante
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="payer" type="object">
  Dados do pagador (apenas para transações pagas)
  <Expandable title="payer">
    <ResponseField name="payer.fullName" type="string">
      Nome completo do pagador
    </ResponseField>
    <ResponseField name="payer.document" type="string">
      CPF/CNPJ mascarado do pagador
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="receiver" type="object">
  Dados do recebedor (apenas para transferências)
  <Expandable title="receiver">
    <ResponseField name="receiver.name" type="string">
      Nome do recebedor
    </ResponseField>
    <ResponseField name="receiver.document" type="string">
      CPF/CNPJ mascarado do recebedor
    </ResponseField>
    <ResponseField name="receiver.bankName" type="string">
      Nome do banco do recebedor
    </ResponseField>
    <ResponseField name="receiver.pixKey" type="string">
      Chave PIX do recebedor
    </ResponseField>
    <ResponseField name="receiver.pixKeyType" type="string">
      Tipo da chave PIX (DOCUMENT, EMAIL, PHONE, RANDOM)
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="createdAt" type="string">
  Data/hora de criação da transação (ISO 8601)
</ResponseField>

<ResponseField name="updatedAt" type="string">
  Data/hora da última atualização da transação (ISO 8601)
</ResponseField>

## Status da Transação

### Estados Possíveis

<AccordionGroup>
  <Accordion title="WAITING_PAYMENT">
    - **Descrição**: Cobrança criada, aguardando pagamento
    - **QR Code**: Disponível e válido
    - **Ações**: Cliente pode pagar, você pode cancelar
    - **Próximo status**: `PAID`, `EXPIRED`, `CANCELLED`
  </Accordion>

  <Accordion title="PAID">
    - **Descrição**: Pagamento recebido com sucesso
    - **Dados extras**: Informações do pagador
    - **Ações**: Pode ser estornado (até 90 dias)
    - **Próximo status**: `REFUNDED` (se estornado)
  </Accordion>

  <Accordion title="EXPIRED">
    - **Descrição**: Cobrança expirou sem pagamento
    - **QR Code**: Inválido
    - **Ações**: Pode criar nova cobrança
    - **Status final**: Não muda mais
  </Accordion>

  <Accordion title="CANCELLED">
    - **Descrição**: Cobrança cancelada manualmente
    - **QR Code**: Inválido
    - **Ações**: Pode criar nova cobrança
    - **Status final**: Não muda mais
  </Accordion>

  <Accordion title="REFUNDED">
    - **Descrição**: Transação estornada
    - **Valor**: Devolvido ao pagador original
    - **Ações**: Estorno processado
    - **Status final**: Não muda mais
  </Accordion>
</AccordionGroup>

## Casos de Uso

### Verificação de Pagamento
```javascript
async function verificarPagamento(transactionId) {
  const response = await fetch(`https://api-gateway.firebanking.com.br/pix/v2/payment/${transactionId}`, {
    headers: {
      'x-api-key': 'sua_chave_api'
    }
  });

  const payment = await response.json();

  switch (payment.operation.status) {
    case 'PAID':
      console.log('Pagamento confirmado!');
      processarPedido(payment);
      break;
    case 'EXPIRED':
      console.log('Cobrança expirou');
      gerarNovaCobranca(payment.id);
      break;
    case 'WAITING_PAYMENT':
      console.log('Aguardando pagamento...');
      break;
  }
}
```

### Polling para Atualização
```javascript
function iniciarMonitoramento(transactionId) {
  const interval = setInterval(async () => {
    const payment = await consultarCobranca(transactionId);

    if (payment.operation.status === 'PAID') {
      clearInterval(interval);
      confirmarPagamento(payment);
    } else if (payment.operation.status === 'EXPIRED') {
      clearInterval(interval);
      notificarExpiracao(payment);
    }
  }, 5000); // Verificar a cada 5 segundos

  // Parar após 30 minutos
  setTimeout(() => clearInterval(interval), 30 * 60 * 1000);
}
```

## Códigos de Erro

| Código | Descrição |
|--------|-----------|
| `TRANSACTION_NOT_FOUND` | Transação não encontrada com o ID fornecido |
| `INVALID_TRANSACTION_ID` | Format do ID da transação inválido |
| `UNAUTHORIZED_ACCESS` | Transação não pertence à sua conta |

## Boas Práticas

### Performance
- **Cache resultados**: Para transações pagas, cache a resposta
- **Polling inteligente**: Reduza frequência após tempo limite
- **Batch requests**: Consulte múltiplas transações quando possível
- **Rate limiting**: Respeite os limites da API (60 req/min)

### Integração
- **Webhook primeiro**: Use webhooks como fonte primária de eventos
- **Polling como backup**: Consulta periódica apenas se webhook falhar
- **Timeout razoável**: Não monitore indefinidamente
- **Log eventos**: Registre mudanças de status para auditoria

### Experiência do Usuário
- **Status em tempo real**: Atualize UI conforme status muda
- **Feedback claro**: Explique cada status para o usuário
- **Ações contextuais**: Ofereça ações baseadas no status
- **Histórico disponível**: Permita consulta de transações passadas

## Próximos Passos

<CardGroup cols={2}>
  <Card title="Criar Cobrança" href="/api-reference/pix/charge/create-qrcode">
    Volte para criar uma nova cobrança
  </Card>
  <Card title="Estornar PIX" href="/api-reference/pix/refund">
    Processe estornos de transações pagas
  </Card>
  <Card title="Webhooks" href="/api-reference/pix/webhooks-cashin">
    Configure notificações automáticas
  </Card>
  <Card title="Split PIX" href="/api-reference/pix/split">
    Divida pagamentos entre beneficiários
  </Card>
</CardGroup>