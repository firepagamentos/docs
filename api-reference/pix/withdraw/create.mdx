---
title: 'Transferência via Chave PIX'
openapi: 'POST /pix/v2/payment/withdraw'
description: 'Realize transferências PIX utilizando chaves PIX (CPF, CNPJ, email, telefone ou chave aleatória)'
---

## Visão Geral

Realize transferências PIX (cash out) enviando valores da sua conta FireBanking para chaves PIX conhecidas (CPF, CNPJ, email, telefone ou chave aleatória). As transferências são processadas instantaneamente e funcionam 24/7.

<Note>
  Para pagamentos via QR Code dinâmico ou código Copia e Cola, utilize o endpoint [/payment/withdraw/qrcode](/api-reference/pix/withdraw/create-qrcode).
</Note>

<Warning>
  Certifique-se de ter saldo suficiente na sua conta antes de realizar a transferência.
</Warning>


## Exemplo de Requisição

<CodeGroup>
```bash cURL
curl -X POST "https://api-gateway.firebanking.com.br/pix/v2/payment/withdraw" \
  -H "x-api-key: SUA_CHAVE_DE_API" \
  -H "Content-Type: application/json" \
  -d '{
    "type": "PIX",
    "value": 15,
    "details": {
      "key": "12312312387",
      "keyType": "DOCUMENT",
      "name": "John Marvin",
      "document": "12312312387"
    },
    "externalId": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
  }'
```

```javascript JavaScript
const pixWithdraw = await fetch('https://api-gateway.firebanking.com.br/pix/v2/payment/withdraw', {
  method: 'POST',
  headers: {
    'x-api-key': 'SUA_CHAVE_DE_API',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    type: 'PIX',
    value: 15,
    details: {
      key: '12312312387',
      keyType: 'DOCUMENT',
      name: 'John Marvin',
      document: '12312312387'
    },
    externalId: '3fa85f64-5717-4562-b3fc-2c963f66afa6'
  })
});

const result = await pixWithdraw.json();
console.log('Transferência criada:', result);
```

```python Python
import requests

withdraw_data = {
    "type": "PIX",
    "value": 15,
    "details": {
        "key": "12312312387",
        "keyType": "DOCUMENT",
        "name": "John Marvin",
        "document": "12312312387"
    },
    "externalId": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
}

response = requests.post(
    'https://api-gateway.firebanking.com.br/pix/v2/payment/withdraw',
    json=withdraw_data,
    headers={
        'x-api-key': 'SUA_CHAVE_DE_API',
        'Content-Type': 'application/json'
    }
)

result = response.json()
print('Transferência criada:', result)
```

```php PHP
<?php
$withdrawData = [
    'type' => 'PIX',
    'value' => 15,
    'details' => [
        'key' => '12312312387',
        'keyType' => 'DOCUMENT',
        'name' => 'John Marvin',
        'document' => '12312312387'
    ],
    'externalId' => '3fa85f64-5717-4562-b3fc-2c963f66afa6'
];

$curl = curl_init();
curl_setopt_array($curl, [
    CURLOPT_URL => 'https://api-gateway.firebanking.com.br/pix/v2/payment/withdraw',
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_POST => true,
    CURLOPT_POSTFIELDS => json_encode($withdrawData),
    CURLOPT_HTTPHEADER => [
        'x-api-key: SUA_CHAVE_DE_API',
        'Content-Type: application/json'
    ]
]);

$response = curl_exec($curl);
$result = json_decode($response, true);
echo 'Transferência criada: ' . print_r($result, true);
?>
```
</CodeGroup>

## Exemplo de Resposta

<ResponseExample>
```json 200 OK - Aguardando Confirmação
{
  "transactionId": "75906707-8c31-479c-b354-aa805c4cefbc",
  "status": "WAITING_CONFIRMATION"
}
```

```json 400 Bad Request - Saldo Insuficiente
{
  "error": {
    "code": "INSUFFICIENT_BALANCE",
    "message": "Saldo insuficiente para realizar a transferência",
    "details": "Saldo atual: R$ 100,00. Valor solicitado: R$ 15,00",
    "request_id": "req_456789123"
  }
}
```

```json 400 Bad Request - Chave Inválida
{
  "error": {
    "code": "INVALID_PIX_KEY",
    "message": "Chave PIX inválida ou não encontrada",
    "details": "CPF fornecido não está registrado como chave PIX",
    "request_id": "req_456789123"
  }
}
```
</ResponseExample>

## Campos de Resposta

<ResponseField name="transactionId" type="string">
  ID único da transferência no FireBanking
</ResponseField>

<ResponseField name="status" type="string">
  Status da transferência:
  - `WAITING_CONFIRMATION` - Aguardando confirmação/processamento
  - `WITHDRAW_PAID` - Transferência realizada com sucesso
  - `ERROR` - Erro no processamento
</ResponseField>

## Fluxo de Processamento

### 1. Validação Inicial
- Verificação de saldo disponível
- Validação da chave PIX do beneficiário
- Confirmação dos dados do beneficiário

### 2. Processamento
- Débito do valor na sua conta
- Envio da transferência PIX
- Confirmação pelo Sistema de Pagamentos Instantâneos (SPI)

### 3. Confirmação
- Webhook enviado com status final
- Valor disponível na conta do beneficiário
- Comprovante gerado

## Estados da Transferência

<AccordionGroup>
  <Accordion title="WAITING_CONFIRMATION">
    - **Descrição**: Transferência criada, aguardando processamento
    - **Duração típica**: Alguns segundos
    - **Ação**: Sistema está validando e processando
    - **Próximo status**: `WITHDRAW_PAID` ou `ERROR`
  </Accordion>

  <Accordion title="WITHDRAW_PAID">
    - **Descrição**: Transferência realizada com sucesso
    - **Valor**: Debitado da sua conta e creditado no destino
    - **Dados extras**: Informações do banco beneficiário
    - **Status final**: Transferência concluída
  </Accordion>

  <Accordion title="ERROR">
    - **Descrição**: Erro no processamento da transferência
    - **Possíveis causas**: Chave inválida, saldo insuficiente, dados incorretos
    - **Valor**: Não foi debitado (ou estornado automaticamente)
    - **Ação**: Verificar erro e tentar novamente
  </Accordion>
</AccordionGroup>

## Validações e Limites

### Limites Operacionais
- **Valor mínimo**: R$ 0,01
- **Valor máximo diurno**: R$ 20.000,00 (6h às 20h)
- **Valor máximo noturno**: R$ 1.000,00 (20h às 6h)
- **Limite mensal**: Configurável por conta

### Validações Automáticas
- **Saldo disponível**: Verificação em tempo real
- **Chave PIX válida**: Validação no DICT (Diretório de Identificadores)
- **Dados do beneficiário**: Confirmação nome/documento
- **Limites de horário**: Conformidade com regulamentação

## Tipos de Chave PIX

<AccordionGroup>
  <Accordion title="CPF/CNPJ (DOCUMENT)">
    ```json
    {
      "key": "12345678901",
      "keyType": "DOCUMENT"
    }
    ```
    - **CPF**: 11 dígitos (sem formatação)
    - **CNPJ**: 14 dígitos (sem formatação)
    - **Validação**: Dígitos verificadores e registro PIX
  </Accordion>

  <Accordion title="Email (EMAIL)">
    ```json
    {
      "key": "usuario@dominio.com",
      "keyType": "EMAIL"
    }
    ```
    - **Formato**: Endereço de email válido
    - **Case-sensitive**: Não (convertido automaticamente)
    - **Validação**: Formato e registro no PIX
  </Accordion>

  <Accordion title="Telefone (PHONE)">
    ```json
    {
      "key": "+5511999999999",
      "keyType": "PHONE"
    }
    ```
    - **Formato**: +55 + DDD + número (ou sem +55)
    - **Padronização**: Automática para formato brasileiro
    - **Validação**: Formato e registro PIX
  </Accordion>

  <Accordion title="Chave Aleatória (RANDOM_KEY)">
    ```json
    {
      "key": "123e4567-e89b-12d3-a456-426614174000",
      "keyType": "RANDOM_KEY"
    }
    ```
    - **Formato**: UUID v4 (36 caracteres com hífens)
    - **Segurança**: Maior privacidade (não expõe dados pessoais)
    - **Validação**: Formato UUID e registro PIX
  </Accordion>
</AccordionGroup>

## Códigos de Erro

| Código | Descrição |
|--------|-----------|
| `INSUFFICIENT_BALANCE` | Saldo insuficiente na conta |
| `INVALID_PIX_KEY` | Chave PIX inválida ou não encontrada |
| `INVALID_KEY_TYPE` | Tipo de chave não corresponde ao formato |
| `INVALID_BENEFICIARY_DATA` | Dados do beneficiário inconsistentes |
| `LIMIT_EXCEEDED` | Limite de transferência excedido |
| `INVALID_AMOUNT` | Valor inválido (fora dos limites permitidos) |
| `EXTERNAL_ID_EXISTS` | ExternalId já utilizado |
| `PIX_UNAVAILABLE` | Sistema PIX temporariamente indisponível |

## Boas Práticas

### Segurança
- **Validação prévia**: Sempre validar chaves PIX antes de transferir
- **Confirmação dupla**: Implementar confirmação para valores altos
- **Log detalhado**: Registrar todas as tentativas de transferência
- **Rate limiting**: Limitar número de transferências por minuto

### Experiência do Usuário
- **Validação em tempo real**: Verificar chaves durante digitação
- **Feedback claro**: Mostrar progresso da transferência
- **Comprovante imediato**: Exibir dados da transferência confirmada
- **Histórico acessível**: Manter registro das transferências

### Performance
- **Cache de validações**: Para chaves PIX frequentes
- **Timeout apropriado**: 30 segundos para transferências
- **Retry inteligente**: Retentar apenas em casos específicos
- **Webhook prioritário**: Use webhook ao invés de polling

## Webhook de Confirmação

Após o processamento, você receberá um webhook:

```json
{
  "event": "pix.withdraw_completed",
  "transaction_id": "withdraw_987654321012345",
  "external_id": "transfer-789012",
  "timestamp": "2024-01-15T15:30:15Z",
  "data": {
    "status": "WITHDRAW_PAID",
    "value": 25050,
    "beneficiary": {
      "name": "Ana Silva Santos",
      "key": "usuario@email.com",
      "bank": "Banco Inter"
    },
    "fees": {
      "total": 0
    }
  }
}
```

## Próximos Passos

<CardGroup cols={2}>
  <Card title="Webhooks Cash Out" href="/api-reference/pix/webhooks-cashout">
    Configure notificações de transferência
  </Card>
  <Card title="Verificar Saldo" href="/api-reference/account/balance">
    Consulte saldo disponível para transferências
  </Card>
</CardGroup>