---
title: 'Verificação de Saúde'
openapi: 'GET /credit-card/v1/health'
---

Verificar o status operacional da API FireBanking. Este endpoint fornece informações de saúde em tempo real e pode ser usado para monitoramento e verificações de disponibilidade.

## Nenhuma Autenticação Necessária

<Info>
  Este endpoint não requer autenticação e pode ser chamado por qualquer pessoa para verificar o status da API.
</Info>

## Exemplo de Requisição

```bash cURL
curl -X GET "https://api-gateway.firebanking.com.br/v1/health"
```

## Exemplo de Resposta (Saudável)

```json Resposta Saudável
{
  "status": "healthy",
  "timestamp": "2024-01-15T16:30:00Z",
  "version": "1.0.0",
  "uptime": 86400,
  "services": {
    "database": "healthy",
    "paymentProcessor": "healthy",
    "webhookService": "healthy"
  },
  "performance": {
    "averageResponseTime": 45,
    "requestsPerMinute": 1250
  }
}
```

## Exemplo de Resposta (Degradado)

```json Resposta Degradada
{
  "status": "degraded",
  "timestamp": "2024-01-15T16:30:00Z",
  "version": "1.0.0",
  "uptime": 86400,
  "services": {
    "database": "healthy",
    "paymentProcessor": "degraded",
    "webhookService": "healthy"
  },
  "issues": [
    {
      "service": "paymentProcessor",
      "severity": "warning",
      "message": "Increased response times detected",
      "since": "2024-01-15T16:25:00Z"
    }
  ],
  "performance": {
    "averageResponseTime": 120,
    "requestsPerMinute": 890
  }
}
```

## Valores de Status

<ResponseField name="status" type="string">
  Status geral de saúde da API
</ResponseField>

### Valores de Status Possíveis

- **healthy**: Todos os sistemas operando normalmente
- **degraded**: Alguns serviços enfrentando problemas mas a API é funcional
- **unhealthy**: Sistemas críticos estão fora do ar, a API pode não funcionar adequadamente
- **maintenance**: Manutenção programada em andamento

## Saúde dos Serviços

A saúde individual dos serviços é relatada para:

<CardGroup cols={3}>
  <Card title="Banco de Dados" icon="database">
    Conectividade e performance do banco de dados principal
  </Card>
  <Card title="Processador de Pagamentos" icon="credit-card">
    Serviços externos de processamento de pagamentos
  </Card>
  <Card title="Serviço de Webhook" icon="webhook">
    Status do sistema de entrega de webhook
  </Card>
</CardGroup>

## Métricas de Performance

<ResponseField name="averageResponseTime" type="integer">
  Tempo médio de resposta da API em milissegundos
</ResponseField>

<ResponseField name="requestsPerMinute" type="integer">
  Volume atual de requisições por minuto
</ResponseField>

<ResponseField name="uptime" type="integer">
  Tempo de atividade do sistema em segundos desde o último reinício
</ResponseField>

## Integração de Monitoramento

### URLs de Verificação de Saúde

Use diferentes endpoints para diferentes necessidades de monitoramento:

```bash Verificação de Saúde Básica
GET /health
```

```bash Verificação de Saúde Detalhada
GET /health?detailed=true
```

### Códigos de Resposta

- **200 OK**: Sistema está saudável ou degradado (verifique o campo status)
- **503 Service Unavailable**: Sistema não está saudável
- **500 Internal Server Error**: Falha do sistema de verificação de saúde

## Casos de Uso

<CardGroup cols={2}>
  <Card title="Monitoramento de Disponibilidade" icon="chart-line-up">
    Monitorar disponibilidade e performance da API
  </Card>
  <Card title="Balanceamento de Carga" icon="scale-balanced">
    Verificações de saúde para configuração de load balancer
  </Card>
  <Card title="Alertas" icon="bell">
    Disparar alertas quando serviços estão degradados
  </Card>
  <Card title="Páginas de Status" icon="globe">
    Exibir status em tempo real aos clientes
  </Card>
</CardGroup>

## Melhores Práticas de Monitoramento

1. **Verificações regulares** - Faça polling a cada 30-60 segundos
2. **Múltiplas regiões** - Verifique de diferentes localizações geográficas
3. **Análise de tendências** - Rastreie métricas de performance ao longo do tempo
4. **Limites de alerta** - Defina níveis de alerta apropriados
5. **Caminhos de escalação** - Defina procedimentos de resposta para problemas

## Exemplos de Integração

### Script de monitoramento Bash/curl
```bash
#!/bin/bash
HEALTH_URL="https://api-gateway.firebanking.com.br/v1/health"
STATUS=$(curl -s $HEALTH_URL | jq -r '.status')

if [ "$STATUS" != "healthy" ]; then
  echo "API está $STATUS - enviando alerta"
  # Enviar alerta ao sistema de monitoramento
fi
```

### Monitoramento Python
```python
import requests
import json

def check_api_health():
    try:
        response = requests.get('https://api-gateway.firebanking.com.br/v1/health')
        health_data = response.json()
        
        if health_data['status'] != 'healthy':
            send_alert(health_data)
            
        return health_data
    except Exception as e:
        send_critical_alert(f"Health check failed: {str(e)}")
```

<Warning>
  Não confie apenas neste endpoint para monitoramento. Monitore também seus padrões reais de uso da API e taxas de erro.
</Warning>

## Limitação de Taxa

Verificações de saúde têm limites de taxa generosos:
- **120 requisições por minuto** por IP
- **Nenhuma autenticação necessária**
- **Resposta leve** para polling frequente

## Relatório de Problemas

Se você notar discrepâncias entre o status da verificação de saúde e o comportamento real da API:

1. **Documente o problema** - Horário, comportamento esperado vs real
2. **Verifique sua implementação** - Verifique seu código e configuração
3. **Contate o suporte** - Inclua resposta da verificação de saúde e detalhes do erro
4. **Monitore tendências** - Rastreie se é um problema recorrente

O endpoint de verificação de saúde ajuda a garantir transparência sobre nosso status de serviço e ajuda você a construir integrações mais resilientes.